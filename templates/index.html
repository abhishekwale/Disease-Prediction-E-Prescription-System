<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Health Care Center</title>
    <link rel="stylesheet" href="/static/styles.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap">
    <script src="/static/script.js"></script>
</head>
<body>
    <!-- Video Background -->
    <div class="video-background">
        <video autoplay muted loop id="myVideo">
            <source src="/static/medical-background.mp4.mp4" type="video/mp4">
        </video>
        <div class="overlay"></div>
    </div>

    <!-- Navbar -->
    <nav class="navbar">
        <h5 class="title-name">Medical and Health Care</h5>
        <div class="container-fluid">
            <div class="logo-img">
                <a href="/">
                    <img src="/static/doctor.png" alt="User" style="width: 50px; height: 50px;">
                </a>
            </div>
            <div class="nav-links">
                {% if user_email != 'Unknown' %}
                    <span>Welcome, {{ user_email }}!</span>
                    <a href="/logs">View Prediction History</a>
                    <a href="/logout">Logout</a>
                {% else %}
                    <a href="/login">Login</a>
                {% endif %}
            </div>
        </div>
    </nav>

    <!-- Login Success Message -->
    {% if login_success %}
        <div class="container form-container">
            <p class="message-text" style="color: green;">Login successful! Welcome, {{ user_email }}!</p>
        </div>
    {% endif %}

    <!-- Container holding both forms -->
    <div class="container form-container">
        <div class="toggle-container" style="text-align: center; margin-bottom: 20px;">
            <button class="toggle-btn active" onclick="toggleForm('predict')">Predict Disease</button>
            <button class="toggle-btn" onclick="toggleForm('search')">Search for Doctor</button>
        </div>

        <!-- Predict Disease Form -->
        <form action="/predict" method="post" id="predict-form" style="display: block;">
            <div class="form-group">
                <label for="symptoms" class="title-symptoms">Select or Type your symptoms:</label>
                <select name="symptoms" multiple class="form-control" id="symptoms" style="height: 150px;">
                    <option value="itching">Itching</option>
                    <option value="skin rash">Skin Rash</option>
                    <option value="nodal skin eruptions">Nodal Skin Eruptions</option>
                    <option value="continuous sneezing">Continuous Sneezing</option>
                    <option value="shivering">Shivering</option>
                    <option value="chills">Chills</option>
                    <option value="joint pain">Joint Pain</option>
                    <option value="stomach pain">Stomach Pain</option>
                    <option value="acidity">Acidity</option>
                    <option value="ulcers on tongue">Ulcers on Tongue</option>
                    <option value="muscle wasting">Muscle Wasting</option>
                    <option value="vomiting">Vomiting</option>
                    <option value="burning micturition">Burning Micturition</option>
                    <option value="spotting urination">Spotting Urination</option>
                    <option value="fatigue">Fatigue</option>
                    <option value="weight gain">Weight Gain</option>
                    <option value="anxiety">Anxiety</option>
                    <option value="cold hands and feets">Cold Hands and Feet</option>
                    <option value="mood swings">Mood Swings</option>
                    <option value="weight loss">Weight Loss</option>
                    <option value="restlessness">Restlessness</option>
                    <option value="lethargy">Lethargy</option>
                    <option value="patches in throat">Patches in Throat</option>
                    <option value="irregular sugar level">Irregular Sugar Level</option>
                    <option value="cough">Cough</option>
                    <option value="high fever">High Fever</option>
                    <option value="sunken eyes">Sunken Eyes</option>
                    <option value="breathlessness">Breathlessness</option>
                    <option value="sweating">Sweating</option>
                    <option value="dehydration">Dehydration</option>
                    <option value="indigestion">Indigestion</option>
                    <option value="headache">Headache</option>
                    <option value="yellowish skin">Yellowish Skin</option>
                    <option value="dark urine">Dark Urine</option>
                    <option value="nausea">Nausea</option>
                    <option value="loss of appetite">Loss of Appetite</option>
                    <option value="pain behind the eyes">Pain Behind the Eyes</option>
                    <option value="back pain">Back Pain</option>
                    <option value="constipation">Constipation</option>
                    <option value="abdominal pain">Abdominal Pain</option>
                    <option value="diarrhoea">Diarrhoea</option>
                    <option value="mild fever">Mild Fever</option>
                    <option value="yellow urine">Yellow Urine</option>
                    <option value="yellowing of eyes">Yellowing of Eyes</option>
                    <option value="acute liver failure">Acute Liver Failure</option>
                    <option value="fluid overload">Fluid Overload</option>
                    <option value="swelling of stomach">Swelling of Stomach</option>
                    <option value="swelled lymph nodes">Swelled Lymph Nodes</option>
                    <option value="malaise">Malaise</option>
                    <option value="blurred and distorted vision">Blurred and Distorted Vision</option>
                    <option value="phlegm">Phlegm</option>
                    <option value="throat irritation">Throat Irritation</option>
                    <option value="redness of eyes">Redness of Eyes</option>
                    <option value="sinus pressure">Sinus Pressure</option>
                    <option value="runny nose">Runny Nose</option>
                    <option value="congestion">Congestion</option>
                    <option value="chest pain">Chest Pain</option>
                    <option value="weakness in limbs">Weakness in Limbs</option>
                    <option value="fast heart rate">Fast Heart Rate</option>
                    <option value="pain during bowel movements">Pain During Bowel Movements</option>
                    <option value="pain in anal region">Pain in Anal Region</option>
                    <option value="bloody stool">Bloody Stool</option>
                    <option value="irritation in anus">Irritation in Anus</option>
                    <option value="neck pain">Neck Pain</option>
                    <option value="dizziness">Dizziness</option>
                    <option value="cramps">Cramps</option>
                    <option value="bruising">Bruising</option>
                    <option value="obesity">Obesity</option>
                    <option value="swollen legs">Swollen Legs</option>
                    <option value="swollen blood vessels">Swollen Blood Vessels</option>
                    <option value="puffy face and eyes">Puffy Face and Eyes</option>
                    <option value="enlarged thyroid">Enlarged Thyroid</option>
                    <option value="brittle nails">Brittle Nails</option>
                    <option value="swollen extremeties">Swollen Extremities</option>
                    <option value="excessive hunger">Excessive Hunger</option>
                    <option value="extra marital contacts">Extra Marital Contacts</option>
                    <option value="drying and tingling lips">Drying and Tingling Lips</option>
                    <option value="slurred speech">Slurred Speech</option>
                    <option value="knee pain">Knee Pain</option>
                    <option value="hip joint pain">Hip Joint Pain</option>
                    <option value="muscle weakness">Muscle Weakness</option>
                    <option value="stiff neck">Stiff Neck</option>
                    <option value="swelling joints">Swelling Joints</option>
                    <option value="movement stiffness">Movement Stiffness</option>
                    <option value="spinning movements">Spinning Movements</option>
                    <option value="loss of balance">Loss of Balance</option>
                    <option value="unsteadiness">Unsteadiness</option>
                    <option value="weakness of one body side">Weakness of One Body Side</option>
                    <option value="loss of smell">Loss of Smell</option>
                    <option value="bladder discomfort">Bladder Discomfort</option>
                    <option value="foul smell of urine">Foul Smell of Urine</option>
                    <option value="continuous feel of urine">Continuous Feel of Urine</option>
                    <option value="passage of gases">Passage of Gases</option>
                    <option value="internal itching">Internal Itching</option>
                    <option value="toxic look (typhos)">Toxic Look (Typhos)</option>
                    <option value="depression">Depression</option>
                    <option value="irritability">Irritability</option>
                    <option value="muscle pain">Muscle Pain</option>
                    <option value="altered sensorium">Altered Sensorium</option>
                    <option value="red spots over body">Red Spots Over Body</option>
                    <option value="belly pain">Belly Pain</option>
                    <option value="abnormal menstruation">Abnormal Menstruation</option>
                    <option value="dischromic patches">Dischromic Patches</option>
                    <option value="watering from eyes">Watering from Eyes</option>
                    <option value="increased appetite">Increased Appetite</option>
                    <option value="polyuria">Polyuria</option>
                    <option value="family history">Family History</option>
                    <option value="mucoid sputum">Mucoid Sputum</option>
                    <option value="rusty sputum">Rusty Sputum</option>
                    <option value="lack of concentration">Lack of Concentration</option>
                    <option value="visual disturbances">Visual Disturbances</option>
                    <option value="receiving blood transfusion">Receiving Blood Transfusion</option>
                    <option value="receiving unsterile injections">Receiving Unsterile Injections</option>
                    <option value="coma">Coma</option>
                    <option value="stomach bleeding">Stomach Bleeding</option>
                    <option value="distention of abdomen">Distention of Abdomen</option>
                    <option value="history of alcohol consumption">History of Alcohol Consumption</option>
                    <option value="fluid overload.1">Fluid Overload</option>
                    <option value="blood in sputum">Blood in Sputum</option>
                    <option value="prominent veins on calf">Prominent Veins on Calf</option>
                    <option value="palpitations">Palpitations</option>
                    <option value="painful walking">Painful Walking</option>
                    <option value="pus filled pimples">Pus Filled Pimples</option>
                    <option value="blackheads">Blackheads</option>
                    <option value="scurring">Scurring</option>
                    <option value="skin peeling">Skin Peeling</option>
                    <option value="silver like dusting">Silver Like Dusting</option>
                    <option value="small dents in nails">Small Dents in Nails</option>
                    <option value="inflammatory nails">Inflammatory Nails</option>
                    <option value="blister">Blister</option>
                    <option value="red sore around nose">Red Sore Around Nose</option>
                    <option value="yellow crust ooze">Yellow Crust Ooze</option>
                </select>
                <input type="text" class="form-control" name="symptoms" placeholder="Type symptoms (comma-separated, e.g., headache, fever)">
                <input type="text" class="form-control" name="pincode" placeholder="Enter Pincode for Doctor Search (e.g., 413001)" maxlength="15">
            </div>

            {% if message %}
                <p class="message-text">{{ message }}</p>
            {% endif %}

            {% if email_sent is not none %}
                <p class="message-text">{{ 'Email sent successfully!' if email_sent else 'Failed to send email.' }}</p>
            {% endif %}

            <a class="reset-btn" href="/" id="resetButton">Reset</a>

            <div class="button-container">
                <button type="submit" class="submit-btn">Predict</button>
            </div>
            <h6 class="disclaimer">*if chat-gpt can make mistake, we might too</h6>
        </form>

        <!-- Search Nearby Doctors Form -->
        <form id="pincode-form" method="POST" action="/search-maps" style="display: none;">
            <div class="form-group">
                <label for="pincode" class="title-symptoms">Location:</label>
                <input type="text" class="form-control2" id="pincode" name="pincode" placeholder="mylocation, Solapur, Pune" required maxlength="15">
                <h5 class="note">* Note: type 'me' if you want current location</h5>
            </div>
            <div class="button-container">
                <button type="submit" class="submit-btn">Search Nearby Doctors</button>
            </div>
        </form>
    </div>

    {% if predicted_disease %}
        <!-- Results -->
        <h4 class="results-title">Predicted Results:</h4>
        <div class="container results-container">
            <table class="results-table">
                <thead>
                    <tr>
                        <label for="symptoms" class="title-symptoms">Showing predictions for {{ symptoms|join(', ') }}</label>
                    </tr>
                </thead>
                <thead>
                    <tr>
                        <th scope="col">Disease</th>
                        <th scope="col">{{ predicted_disease }}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th>Description</th>
                        <td>{{ dis_des }}</td>
                    </tr>
                    <tr>
                        <th>Precautions</th>
                        <td>
                            <ul>
                                {% for i in my_precautions %}
                                    <li>{{ i }}</li>
                                {% endfor %}
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <th>Medications</th>
                        <td>
                            <ul>
                                {% for i in medications %}
                                    <li>{{ i }}</li>
                                {% endfor %}
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <th>Workout</th>
                        <td>
                            <ul>
                                {% for i in workout %}
                                    <li>{{ i }}</li>
                                {% endfor %}
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <th>Diet</th>
                        <td>
                            <ul>
                                {% for i in my_diet %}
                                    <li>{{ i }}</li>
                                {% endfor %}
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    {% endif %}

    <div class="footer">
        <!-- Footer content can be added here if needed -->
    </div>
</body>
</html>